{
  "deferral": {
    "enabled": true,
    "mode": "prefer",  // one of: off | prefer | only
    "risk_tiers": {
      "low": {"allow_deferral": true},
      "medium": {"allow_deferral": true},
      "high": {"allow_deferral": false}
    },
    "capabilities": {
      "version_control": ["git.commit_push.main"],
      "build": ["build.container.sign"],
      "security": ["security.scan.trivy"],
      "deploy": ["kube.deploy.rolling"],
      "versioning": ["version.bump.semver"]
    }
  },
  "rules": [
    {
      "match_substring": "commit and push",
      "workflow_id": "git.commit_push.main",
      "reason": "match common commit/push task",
      "risk_tier": "low",
      "capabilities": ["version_control"],
      "force_defer": false,
      "inputs": {}
    }
  ]
}
